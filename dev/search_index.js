var documenterSearchIndex = {"docs":
[{"location":"#TIFFDatasets","page":"Home","title":"TIFFDatasets","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Modules = [TIFFDatasets]","category":"page"},{"location":"#TIFFDatasets.TIFFDataset-Tuple{AbstractString}","page":"Home","title":"TIFFDatasets.TIFFDataset","text":"ds = TIFFDataset(fname::AbstractString; varname = \"band\",\n                 projection = \"EPSG:4326\",\n                 catbands = false,\n                 dimnames = (\"cols\",\"rows\",\"bands\"))\n\nCreate a data set structure from the GeoTIFF file name fname using ArchGDAL. The data variable will be called  varname (followed by the band number). The dataset ds will also have the virtual variables x, y and lon, lat representing the projected coordinates (as defined in the GeoTIFF file) and the corresponding longitude/latitude (using the projection as defined by the projection parameter). The names of the dimensions can be adapted using the parameter dimnames. The type of projection can be  checked with the attributes (gridmappingname, longitudeofcentralmeridian,  falseeasting, falsenorthing, latitudeofprojectionorigin, scalefactoratcentralmeridian, longitudeofprimemeridian, semimajoraxis, inverseflattening, ...  depending on the projection used) of the virtual variable crs. \n\nIn addition to the CF conventions, there is also the attribute GeoTransform [1] with six numbers describing a linear mapping between indices and the projected coordinates. For the point (i,j) the projected coordinates are computed as:\n\n    shift = 0.5 # center\n    x_geo = GeoTransform[1] + (i-shift) * GeoTransform[2] + (j-shift) * GeoTransform[3]\n    y_geo = GeoTransform[4] + (i-shift) * GeoTransform[5] + (j-shift) * GeoTransform[6]\n\nSetting catbands to true, will concatenate all bands into a single variable called varname. If catbands is true, it is the user's responsibility to check that all bands have the same no-data value, offset and scale factor. Check with the command line tool gdalinfo filename or use ArchGDAL to inspect the file. If this is not the case, catbands = true should not be used.\n\nExample:\n\nusing TIFFDatasets\nfname = download(\"https://data-assimilation.net/upload/Alex/TIFF/S2_1-12-19_48MYU_0.tif\")\nds = TIFFDataset(fname,catbands = true)\nband_1_and_2 = ds[\"band\"][:,:,1:2];\nlongitude = ds[\"lon\"][:,:];\nlatitude = ds[\"lat\"][:,:];\n# x,y native projection\nx = ds[\"x\"][:,:];\ny = ds[\"y\"][:,:];\n# coordinate reference system as \"well known text\"\n# https://en.wikipedia.org/wiki/Well-known_text_representation_of_coordinate_reference_systems\ncrs_wkt = ds[\"crs\"].attrib[\"crs_wkt\"];\n\nReference: [1] https://gdal.org/tutorials/geotransforms_tut.html#transformation-from-image-coordinate-space-to-georeferenced-coordinate-space\n\n\n\n\n\n","category":"method"}]
}
